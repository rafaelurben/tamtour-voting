@if (keys$ | async; as keys) {
  <table class="full-width-table">
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Key</th>
      <th colSpan="2">Aktionen</th>
    </tr>
    @for (key of keys; track key.id) {
      <tr>
        <td>{{ key.id }}</td>
        <td>{{ key.name }}</td>
        <td>
          <a [href]="'/viewer.html?token=' + key.key">{{ key.key }}</a>
        </td>
        <td>
          <app-button (trigger)="updateKey(key)">
            <span>Umbenennen</span>
          </app-button>
        </td>
        <td>
          <app-button (trigger)="deleteKey(key)" variant="danger">
            <span>Löschen</span>
          </app-button>
        </td>
      </tr>
    }
  </table>
} @else {
  <app-spinner>
    <span>Schlüssel werden geladen...</span>
  </app-spinner>
}

<div class="button-row">
  <app-button (trigger)="createKey()">
    <span>Neuen Schlüssel erstellen</span>
  </app-button>
</div>

<app-alert
  type="warning"
  title="Achtung"
  message="Ein Schlüssel kann nicht mehrfach gleichzeitig verwendet werden!" />
